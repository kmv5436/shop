{% extends "shop/base.html" %}
{% load static %}

{% block title %}
  {{ product.name }} | –ú–∞–≥–∞–∑–∏–Ω
{% endblock %}

{% block content %}
  <div class="product-detail">
    <!-- –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ -->
    <img src="{% if product.image %}{{ product.image.url }}{% else %}{% static "img/no_image.png" %}{% endif %}"
        class="product-detail-image" 
        alt="{{ product.name }}"
        loading="lazy">
  </div>  
    <!-- –ù–∞–∑–≤–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ -->
    <h1>{{ product.name }}</h1>
    
    <!-- –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ç–æ–≤–∞—Ä–∞ -->
    <h2 class="product-category">
      <span>–ö–∞—Ç–µ–≥–æ—Ä–∏—è: </span>
      <a href="{{ product.category.get_absolute_url }}">
        {{ product.category.name }}
      </a>
    </h2>
    
    <!-- –¶–µ–Ω–∞ —Ç–æ–≤–∞—Ä–∞ -->
    <p class="price">
      <span>–¶–µ–Ω–∞: </span>
      {{ product.price }} ‚ÇΩ  <!-- –ó–∞–º–µ–Ω–∏–ª $ –Ω–∞ ‚ÇΩ -->
    </p>
    
    <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∫–æ—Ä–∑–∏–Ω—É -->
    <form action="{% url "cart:cart_add" product.id %}" method="post" class="add-to-cart-form">
      {{ cart_product_form }}
      {% csrf_token %}
      <button type="submit" class="add-to-cart-btn">
        üõí –î–æ–±–∞–≤–∏—Ç—å –≤ –∫–æ—Ä–∑–∏–Ω—É  <!-- –ó–∞–º–µ–Ω–∏–ª "Add to cart" -->
      </button>
    </form>
    
    <!-- –û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞ -->
    <div class="product-description">
      <h3>–û–ø–∏—Å–∞–Ω–∏–µ —Ç–æ–≤–∞—Ä–∞:</h3>
      {{ product.description|linebreaks }}
    </div>
    
    <!-- –°—Ç–∞—Ç—É—Å –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ -->
    <p class="availability">
      {% if product.available %}
        ‚úÖ –í –Ω–∞–ª–∏—á–∏–∏
      {% else %}
        ‚ùå –ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏
      {% endif %}
    </p>
  </div>
{% endblock %}